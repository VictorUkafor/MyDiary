{"version":3,"sources":["../../../client/js/delete-entry.js"],"names":["processDeleteEntry","entryId","localStorage","getItem","url","token","dataForFetch","method","headers","authentication","fetch","then","res","json","data","authenticated","window","location","href","document","getElementById","innerHTML","errors","setItem","success","error","console","log"],"mappings":";;AAAA,IAAMA,qBAAqB,SAArBA,kBAAqB,GAAM;AAC/B,MAAMC,UAAUC,aAAaC,OAAb,CAAqB,SAArB,CAAhB;AACA,MAAMC,mFAA0EH,OAA1E,CAAN;AACA,MAAMI,QAAQH,aAAaC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAMG,eAAe;AACnBC,YAAQ,QADW;AAEnBC,aAAS;AACP,sBAAgB,kBADT;AAEPC,sBAAgBJ;AAFT;AAFU,GAArB;;AAQAK,QAAMN,GAAN,EAAWE,YAAX,EACGK,IADH,CACQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACd,QAAIA,KAAKC,aAAL,KAAuB,KAA3B,EAAkC;AAChCC,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,cAAvB;AACAC,eAASC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GACI,kDADJ;AAED,KAJD,MAIO,IAAIP,KAAKQ,MAAT,EAAiB;AACtBH,eAASC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,sCAC+BP,KAAKQ,MADpC;AAED,KAHM,MAGA;AACLN,aAAOd,YAAP,CAAoBqB,OAApB,CAA4B,aAA5B,EAA2CT,KAAKU,OAAhD;AACAR,aAAOC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AACD;AACF,GAdH,WAeS,UAACO,KAAD,EAAW;AAChBC,YAAQC,GAAR,CAAYF,KAAZ;AACD,GAjBH;;AAmBA,SAAO,KAAP;AACD,CAhCD","file":"delete-entry.js","sourcesContent":["const processDeleteEntry = () => {\n  const entryId = localStorage.getItem('entryId');\n  const url = `https://deploy-challenge3-to-heroku.herokuapp.com/api/v1/entries/${entryId}`;\n  const token = localStorage.getItem('token');\n  const dataForFetch = {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      authentication: token\n    }\n  };\n\n  fetch(url, dataForFetch)\n    .then(res => res.json())\n    .then((data) => {\n      if (data.authenticated === false) {\n        window.location.href = 'sign-in.html';\n        document.getElementById('errorMessage').innerHTML =\n            '<h1 class=\"errorField\"> You have to login! </h1>';\n      } else if (data.errors) {\n        document.getElementById('errorMessage').innerHTML =\n             `<h1 class=\"errorField\">${data.errors}</h1>`;\n      } else {\n        window.localStorage.setItem('deleteEntry', data.success);\n        window.location.href = 'all-entries.html';\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n\n  return false;\n};\n"]}