{"version":3,"sources":["../../../client/js/process-signup.js"],"names":["displayErrorInFields","errors","field","document","getElementById","innerHTML","processSignUp","url","firstName","forms","signUp","value","lastName","email","password","confirm_password","body","fields","dataForFetch","method","JSON","stringify","headers","fetch","then","res","json","data","forEach","success","error","console","log"],"mappings":";;;;AAAA,IAAMA,uBAAuB,SAAvBA,oBAAuB,CAACC,MAAD,EAASC,KAAT,EAAmB;AAC9CC,WAASC,cAAT,QAA2BF,KAA3B,aAAyCG,SAAzC,sCAC0BJ,OAAOC,KAAP,CAD1B;AAED,CAHD;;AAKA,IAAMI,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,MAAMC,MAAM,sEAAZ;AACA,MAAMC,YAAYL,SAASM,KAAT,CAAeC,MAAf,CAAsBF,SAAtB,CAAgCG,KAAlD;AACA,MAAMC,WAAWT,SAASM,KAAT,CAAeC,MAAf,CAAsBE,QAAtB,CAA+BD,KAAhD;AACA,MAAME,QAAQV,SAASM,KAAT,CAAeC,MAAf,CAAsBG,KAAtB,CAA4BF,KAA1C;AACA,MAAMG,WAAWX,SAASM,KAAT,CAAeC,MAAf,CAAsBI,QAAtB,CAA+BH,KAAhD;AACA,MAAMI,mBAAmBZ,SAASM,KAAT,CAAeC,MAAf,CAAsBK,gBAAtB,CAAuCJ,KAAhE;AACA,MAAMK,OAAO;AACXR,wBADW,EACAI,kBADA,EACUC,YADV,EACiBC,kBADjB,EAC2BC;AAD3B,GAAb;AAGA,MAAME,SAAS,CAAC,WAAD,EAAc,UAAd,EAA0B,OAA1B,EAAmC,UAAnC,EAA+C,kBAA/C,CAAf;;AAEAd,WAASC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,GAAsD,EAAtD;AACAF,WAASC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,GAAqD,EAArD;AACAF,WAASC,cAAT,CAAwB,YAAxB,EAAsCC,SAAtC,GAAkD,EAAlD;AACAF,WAASC,cAAT,CAAwB,eAAxB,EAAyCC,SAAzC,GAAqD,EAArD;AACAF,WAASC,cAAT,CAAwB,uBAAxB,EAAiDC,SAAjD,GAA6D,EAA7D;AACAF,WAASC,cAAT,CAAwB,iBAAxB,EAA2CC,SAA3C,GAAuD,EAAvD;AACAF,WAASC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAoD,EAApD;AACAF,WAASC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,GAAsD,EAAtD;;AAEA,MAAMa,eAAe;AACnBC,YAAQ,MADW;AAEnBH,UAAMI,KAAKC,SAAL,CAAeL,IAAf,CAFa;AAGnBM,aAAS,EAAE,gBAAgB,kBAAlB;AAHU,GAArB;;AAMAC,QAAMhB,GAAN,EAAWW,YAAX,EACGM,IADH,CACQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACd,QAAIA,KAAK1B,MAAT,EAAiB;AACf,UAAI0B,KAAK1B,MAAL,KAAgB,IAAhB,IAAwB,QAAO0B,KAAK1B,MAAZ,MAAuB,QAAnD,EAA6D;AAC3DgB,eAAOW,OAAP,CAAe,UAAC1B,KAAD,EAAW;AACxB,cAAIyB,KAAK1B,MAAL,CAAYC,KAAZ,CAAJ,EAAwB;AACtB,mBAAOF,qBAAqB2B,KAAK1B,MAA1B,EAAkCC,KAAlC,CAAP;AACD;AACF,SAJD;AAKD,OAND,MAMO;AACLC,iBAASC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,sCAC0BsB,KAAK1B,MAD/B;AAED;AACF,KAXD,MAWO,IAAI0B,KAAKE,OAAT,EAAkB;AACvB1B,eAASC,cAAT,CAAwB,gBAAxB,EAA0CC,SAA1C,wCAC4BsB,KAAKE,OADjC;AAED;AACF,GAlBH,WAmBS,UAACC,KAAD,EAAW;AAChBC,YAAQC,GAAR,CAAYF,KAAZ;AACD,GArBH;;AAuBA,SAAO,KAAP;AACD,CAnDD","file":"process-signup.js","sourcesContent":["const displayErrorInFields = (errors, field) => {\n  document.getElementById(`${field}Error`).innerHTML =\n  `<h1 class=\"errorField\">${errors[field]}</h1>`;\n};\n\nconst processSignUp = () => {\n  const url = 'https://deploy-challenge3-to-heroku.herokuapp.com/api/v1/auth/signup';\n  const firstName = document.forms.signUp.firstName.value;\n  const lastName = document.forms.signUp.lastName.value;\n  const email = document.forms.signUp.email.value;\n  const password = document.forms.signUp.password.value;\n  const confirm_password = document.forms.signUp.confirm_password.value;\n  const body = {\n    firstName, lastName, email, password, confirm_password\n  };\n  const fields = ['firstName', 'lastName', 'email', 'password', 'confirm_password'];\n\n  document.getElementById('firstNameError').innerHTML = '';\n  document.getElementById('lastNameError').innerHTML = '';\n  document.getElementById('emailError').innerHTML = '';\n  document.getElementById('passwordError').innerHTML = '';\n  document.getElementById('confirm_passwordError').innerHTML = '';\n  document.getElementById('photographError').innerHTML = '';\n  document.getElementById('errorMessage').innerHTML = '';\n  document.getElementById('successMessage').innerHTML = '';\n\n  const dataForFetch = {\n    method: 'POST',\n    body: JSON.stringify(body),\n    headers: { 'Content-Type': 'application/json' }\n  };\n\n  fetch(url, dataForFetch)\n    .then(res => res.json())\n    .then((data) => {\n      if (data.errors) {\n        if (data.errors !== null && typeof data.errors === 'object') {\n          fields.forEach((field) => {\n            if (data.errors[field]) {\n              return displayErrorInFields(data.errors, field);\n            }\n          });\n        } else {\n          document.getElementById('errorMessage').innerHTML =\n          `<h1 class=\"errorField\">${data.errors}</h1>`;\n        }\n      } else if (data.success) {\n        document.getElementById('successMessage').innerHTML =\n        `<h1 class=\"successField\">${data.success}</h1>`;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n\n  return false;\n};\n"]}