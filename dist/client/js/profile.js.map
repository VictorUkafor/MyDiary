{"version":3,"sources":["../../../client/js/profile.js"],"names":["userProfile","url","token","localStorage","getItem","dataForFetch","method","headers","authentication","fetch","then","res","json","data","authenticated","errors","login","window","setItem","location","href","photo","photograph","document","getElementById","src","innerHTML","firstname","lastname","email","entries","length","error","console","log"],"mappings":";;AAAA,IAAMA,cAAc,SAAdA,WAAc,GAAM;AACxB,MAAMC,MAAM,+DAAZ;AACA,MAAMC,QAAQC,aAAaC,OAAb,CAAqB,OAArB,CAAd;;AAEA,MAAMC,eAAe;AACnBC,YAAQ,KADW;AAEnBC,aAAS;AACP,sBAAgB,kBADT;AAEPC,sBAAgBN;AAFT;AAFU,GAArB;;AAQAO,QAAMR,GAAN,EAAWI,YAAX,EACGK,IADH,CACQ;AAAA,WAAOC,IAAIC,IAAJ,EAAP;AAAA,GADR,EAEGF,IAFH,CAEQ,UAACG,IAAD,EAAU;AACd,QAAIA,KAAKC,aAAL,KAAuB,KAAvB,IAAgCD,KAAKE,MAAzC,EAAiD;AAC/C,UAAMC,QAAQ,wBAAd;AACAC,aAAOd,YAAP,CAAoBe,OAApB,CAA4B,OAA5B,EAAqCF,KAArC;AACAC,aAAOE,QAAP,CAAgBC,IAAhB,GAAuB,cAAvB;AACD,KAJD,MAIO;AACLC,cAAQR,KAAKS,UAAb;AACA,UAAIT,KAAKS,UAAL,KAAoB,EAAxB,EAA4B;AAC1BD,gBAAQ,cAAR;AACD;AACDE,eAASC,cAAT,CAAwB,eAAxB,EAAyCC,GAAzC,4BAA+DJ,KAA/D;AACAE,eAASC,cAAT,CAAwB,WAAxB,EAAqCE,SAArC,GAAiDb,KAAKc,SAAtD;AACAJ,eAASC,cAAT,CAAwB,UAAxB,EAAoCE,SAApC,GAAgDb,KAAKe,QAArD;AACAL,eAASC,cAAT,CAAwB,OAAxB,EAAiCE,SAAjC,GAA6Cb,KAAKgB,KAAlD;AACAN,eAASC,cAAT,CAAwB,iBAAxB,EAA2CE,SAA3C,GAAuDb,KAAKiB,OAAL,CAAaC,MAApE;AACD;AACF,GAlBH,WAmBS,UAACC,KAAD,EAAW;AAChBC,YAAQC,GAAR,CAAYF,KAAZ;AACD,GArBH;;AAuBA,SAAO,KAAP;AACD,CApCD;;AAsCAhC","file":"profile.js","sourcesContent":["const userProfile = () => {\n  const url = 'https://deploy-challenge3-to-heroku.herokuapp.com/api/v1/user';\n  const token = localStorage.getItem('token');\n\n  const dataForFetch = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      authentication: token\n    }\n  };\n\n  fetch(url, dataForFetch)\n    .then(res => res.json())\n    .then((data) => {\n      if (data.authenticated === false || data.errors) {\n        const login = 'oop! You have to login';\n        window.localStorage.setItem('login', login);\n        window.location.href = 'sign-in.html';\n      } else {\n        photo = data.photograph;\n        if (data.photograph === '') {\n          photo = 'no-image.png';\n        }\n        document.getElementById('profile-image').src = `images/users/${photo}`;\n        document.getElementById('firstName').innerHTML = data.firstname;\n        document.getElementById('lastName').innerHTML = data.lastname;\n        document.getElementById('email').innerHTML = data.email;\n        document.getElementById('numberOfEntries').innerHTML = data.entries.length;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n\n  return false;\n};\n\nuserProfile();\n"]}